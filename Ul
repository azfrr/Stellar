local a=game:GetService'UserInputService'; local b=game:GetService'TextService'; local c=game:GetService'CoreGui'; local d=game:GetService'Teams'; local e=game:GetService'Players'; local f=game:GetService'RunService' local g=game:GetService'TweenService'; local h=f.RenderStepped; local i=e.LocalPlayer; local j=i:GetMouse(); local k=protectgui or(syn and syn.protect_gui)or(function()end); local l=Instance.new'ScreenGui'; l.Name='_udez' k(l); l.ZIndexBehavior=Enum.ZIndexBehavior.Global; l.Parent=(c:FindFirstChild"RobloxGui"or c); local m={}; local n={}; getgenv().Toggles=m; getgenv().Options=n; local o={ Registry={}; RegistryMap={}; HudRegistry={}; FontColor=Color3.fromRGB(255,255,255); MainColor=Color3.fromRGB(28,28,28); BackgroundColor=Color3.fromRGB(20,20,20); AccentColor=Color3.fromRGB(0,85,255); OutlineColor=Color3.fromRGB(50,50,50); RiskColor=Color3.fromRGB(255,50,50), Black=Color3.new(0,0,0); Font=Enum.Font.Code, OpenedFrames={}; DependencyBoxes={}; Signals={}; ScreenGui=l; }; local p=0 local q=0 table.insert(o.Signals,h:Connect(function(r) p=p+r if p>=(1.6666666666666665E-2)then p=0 q=q+(2.5E-3); if q>1 then q=0; end; o.CurrentRainbowHue=q; o.CurrentRainbowColor=Color3.fromHSV(q,0.8,1); end end)) local function GetPlayersString() local r=e:GetPlayers(); for s=1,#r do r[s]=r[s].Name; end; table.sort(r,function(s,t)return s<t end); return r end; local function GetTeamsString() local r=d:GetTeams(); for s=1,#r do r[s]=r[s].Name; end; table.sort(r,function(s,t)return s<t end); return r end; function o.SafeCallback(r,s,...) if(not s)then return end; if not o.NotifyOnError then return s(...) end; local t,u=pcall(s,...); if not t then local v, w=u:find":%d+: "; if not w then return o:Notify(u) end; return o:Notify(u:sub(w+1),3) end; end; function o.AttemptSave(r) if o.SaveManager then o.SaveManager:Save(); end; end; function o.Create(r,s,t) local u=s; if type(s)=='string'then u=Instance.new(s); end; for v,w in next,t do u[v]=w; end; return u end; function o.ApplyTextStroke(r,s) s.TextStrokeTransparency=1; o:Create('UIStroke',{ Color=Color3.new(0,0,0); Thickness=1; LineJoinMode=Enum.LineJoinMode.Miter; Parent=s; }); end; function o.CreateLabel(r,s,t,u) if u==nil then u=true end local v=o:Create('TextLabel',{ BackgroundTransparency=1; Font=o.Font; TextColor3=s.TextColor3 or o.FontColor; TextSize=16; TextStrokeTransparency=0; }); o:ApplyTextStroke(v); if u then o:AddToRegistry(v,{ TextColor3='FontColor'; },t); end return o:Create(v,s) end; function o.MakeDraggable(r,s,t) s.Active=true; s.InputBegan:Connect(function(u) if u.UserInputType==Enum.UserInputType.MouseButton1 then local v=Vector2.new( j.X-s.AbsolutePosition.X, j.Y-s.AbsolutePosition.Y ); if v.Y>(t or 40)then return end; while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do s.Position=UDim2.new( 0, j.X-v.X+(s.Size.X.Offset*s.AnchorPoint.X), 0, j.Y-v.Y+(s.Size.Y.Offset*s.AnchorPoint.Y) ); h:Wait(); end; end; end) end; function o.AddToolTip(r,s,t) local u,v=o:GetTextBounds(s,o.Font,14); local w=o:Create('Frame',{ BackgroundColor3=o.MainColor, BorderColor3=o.OutlineColor, Size=UDim2.fromOffset(u+5,v+4), ZIndex=100, Parent=o.ScreenGui, Visible=false, }) local x=o:CreateLabel{ Position=UDim2.fromOffset(3,1), Size=UDim2.fromOffset(u,v); TextSize=14; Text=s, TextColor3=o.FontColor, TextXAlignment=Enum.TextXAlignment.Left; ZIndex=w.ZIndex+1, Parent=w; }; o:AddToRegistry(w,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; }); o:AddToRegistry(x,{ TextColor3='FontColor', }); local y=false t.MouseEnter:Connect(function() if o:MouseIsOverOpenedFrame()then return end y=true w.Position=UDim2.fromOffset(j.X+15,j.Y+12) w.Visible=true while y do f.Heartbeat:Wait() w.Position=UDim2.fromOffset(j.X+15,j.Y+12) end end) t.MouseLeave:Connect(function() y=false w.Visible=false end) end function o.OnHighlight(r,s,t,u,v) s.MouseEnter:Connect(function() local w=o.RegistryMap[t]; for x,y in next,u do t[x]=o[y]or y; if w and w.Properties[x]then w.Properties[x]=y; end; end; end) s.MouseLeave:Connect(function() local w=o.RegistryMap[t]; for x,y in next,v do t[x]=o[y]or y; if w and w.Properties[x]then w.Properties[x]=y; end; end; end) end; function o.MouseIsOverOpenedFrame(r) for s,t in next,o.OpenedFrames do local u,v=s.AbsolutePosition,s.AbsoluteSize; if j.X>=u.X and j.X<=u.X+v.X and j.Y>=u.Y and j.Y<=u.Y+v.Y then return true end; end; end; function o.IsMouseOverFrame(r,s) local t,u=s.AbsolutePosition,s.AbsoluteSize; if j.X>=t.X and j.X<=t.X+u.X and j.Y>=t.Y and j.Y<=t.Y+u.Y then return true end; end; function o.UpdateDependencyBoxes(r) for s,t in next,o.DependencyBoxes do t:Update(); end; end; function o.MapValue(r,s,t,u,v,w) return(1-((s-t)/(u-t)))*v+((s-t)/(u-t))*w end; function o.GetTextBounds(r,s,t,u,v) local w=b:GetTextSize(s,u,t,v or Vector2.new(1920,1080)) return w.X,w.Y end; function o.GetDarkerColor(r,s) local t,u,v=Color3.toHSV(s); return Color3.fromHSV(t,u,v/1.5) end; o.AccentColorDark=o:GetDarkerColor(o.AccentColor); function o.AddToRegistry(r,s,t,u) local v=#o.Registry+1; local w={ Instance=s; Properties=t; Idx=v; }; table.insert(o.Registry,w); o.RegistryMap[s]=w; if u then table.insert(o.HudRegistry,w); end; end; function o.RemoveFromRegistry(r,s) local t=o.RegistryMap[s]; if t then for u=#o.Registry,1,-1 do if o.Registry[u]==t then table.remove(o.Registry,u); end; end; for u=#o.HudRegistry,1,-1 do if o.HudRegistry[u]==t then table.remove(o.HudRegistry,u); end; end; o.RegistryMap[s]=nil; end; end; function o.UpdateColorsUsingRegistry(r) for s,t in next,o.Registry do for u,v in next,t.Properties do if type(v)=='string'then t.Instance[u]=o[v]; elseif type(v)=='function'then t.Instance[u]=v() end end; end; end; function o.GiveSignal(r,s) table.insert(o.Signals,s) end function o.Unload(r) for s=#o.Signals,1,-1 do local t=table.remove(o.Signals,s) t:Disconnect() end if o.OnUnload then o.OnUnload() end l:Destroy() end function o.OnUnload(r,s) o.OnUnload=s end o:GiveSignal(l.DescendantRemoving:Connect(function(r) if o.RegistryMap[r]then o:RemoveFromRegistry(r); end; end)) local r={}; do local s={}; function s.AddColorPicker(t,u,v) local w=t.TextLabel; assert(v.Default,'AddColorPicker: Missing default value.'); local x={ Value=v.Default; Transparency=v.Transparency or 0; Type='ColorPicker'; Title=type(v.Title)=='string'and v.Title or'Color picker', Callback=v.Callback or function(x)end; }; function x.SetHSVFromRGB(y,z) local A,B,C=Color3.toHSV(z); x.Hue=A; x.Sat=B; x.Vib=C; end; x:SetHSVFromRGB(x.Value); local y=o:Create('Frame',{ BackgroundColor3=x.Value; BorderColor3=o:GetDarkerColor(x.Value); BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(0,28,0,14); ZIndex=6; Parent=w; }); o:Create('ImageLabel',{ BorderSizePixel=0; Size=UDim2.new(0,27,0,13); ZIndex=5; Image='http://www.roblox.com/asset/?id=12977615774'; Visible=not not v.Transparency; Parent=y; }); local z=o:Create('Frame',{ Name='Color'; BackgroundColor3=Color3.new(1,1,1); BorderColor3=Color3.new(0,0,0); Position=UDim2.fromOffset(y.AbsolutePosition.X,y.AbsolutePosition.Y+18), Size=UDim2.fromOffset(230,v.Transparency and 271 or 253); Visible=false; ZIndex=15; Parent=l, }); y:GetPropertyChangedSignal'AbsolutePosition':Connect(function() z.Position=UDim2.fromOffset(y.AbsolutePosition.X,y.AbsolutePosition.Y+18); end) local A=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=16; Parent=z; }); local B=o:Create('Frame',{ BackgroundColor3=o.AccentColor; BorderSizePixel=0; Size=UDim2.new(1,0,0,2); ZIndex=17; Parent=A; }); local C=o:Create('Frame',{ BorderColor3=Color3.new(0,0,0); Position=UDim2.new(0,4,0,25); Size=UDim2.new(0,200,0,200); ZIndex=17; Parent=A; }); local D=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=18; Parent=C; }); local E=o:Create('ImageLabel',{ BorderSizePixel=0; Size=UDim2.new(1,0,1,0); ZIndex=18; Image='rbxassetid://4155801252'; Parent=D; }); local F=o:Create('ImageLabel',{ AnchorPoint=Vector2.new(0.5,0.5); Size=UDim2.new(0,6,0,6); BackgroundTransparency=1; Image='http://www.roblox.com/asset/?id=9619665977'; ImageColor3=Color3.new(0,0,0); ZIndex=19; Parent=E; }); o:Create('ImageLabel',{ Size=UDim2.new(0,F.Size.X.Offset-2,0,F.Size.Y.Offset-2); Position=UDim2.new(0,1,0,1); BackgroundTransparency=1; Image='http://www.roblox.com/asset/?id=9619665977'; ZIndex=20; Parent=F; }) local G=o:Create('Frame',{ BorderColor3=Color3.new(0,0,0); Position=UDim2.new(0,208,0,25); Size=UDim2.new(0,15,0,200); ZIndex=17; Parent=A; }); local H=o:Create('Frame',{ BackgroundColor3=Color3.new(1,1,1); BorderSizePixel=0; Size=UDim2.new(1,0,1,0); ZIndex=18; Parent=G; }); local I=o:Create('Frame',{ BackgroundColor3=Color3.new(1,1,1); AnchorPoint=Vector2.new(0,0.5); BorderColor3=Color3.new(0,0,0); Size=UDim2.new(1,0,0,1); ZIndex=18; Parent=H; }); local J=o:Create('Frame',{ BorderColor3=Color3.new(0,0,0); Position=UDim2.fromOffset(4,228), Size=UDim2.new(0.5,-6,0,20), ZIndex=18, Parent=A; }); local K=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=18, Parent=J; }); o:Create('UIGradient',{ Color=ColorSequence.new{ ColorSequenceKeypoint.new(0,Color3.new(1,1,1)), ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212)) }; Rotation=90; Parent=K; }); local L=o:Create('TextBox',{ BackgroundTransparency=1; Position=UDim2.new(0,5,0,0); Size=UDim2.new(1,-5,1,0); Font=o.Font; PlaceholderColor3=Color3.fromRGB(190,190,190); PlaceholderText='Hex color', Text='#FFFFFF', TextColor3=o.FontColor; TextSize=14; TextStrokeTransparency=0; TextXAlignment=Enum.TextXAlignment.Left; ZIndex=20, Parent=K; }); o:ApplyTextStroke(L); local M=o:Create(J:Clone(),{ Position=UDim2.new(0.5,2,0,228), Size=UDim2.new(0.5,-6,0,20), Parent=A }); local N=o:Create(M.Frame:FindFirstChild'TextBox',{ Text='255, 255, 255', PlaceholderText='RGB color', TextColor3=o.FontColor }); local O,P,Q; if v.Transparency then O=o:Create('Frame',{ BorderColor3=Color3.new(0,0,0); Position=UDim2.fromOffset(4,251); Size=UDim2.new(1,-8,0,15); ZIndex=19; Parent=A; }); P=o:Create('Frame',{ BackgroundColor3=x.Value; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=19; Parent=O; }); o:AddToRegistry(P,{BorderColor3='OutlineColor'}); o:Create('ImageLabel',{ BackgroundTransparency=1; Size=UDim2.new(1,0,1,0); Image='http://www.roblox.com/asset/?id=12978095818'; ZIndex=20; Parent=P; }); Q=o:Create('Frame',{ BackgroundColor3=Color3.new(1,1,1); AnchorPoint=Vector2.new(0.5,0); BorderColor3=Color3.new(0,0,0); Size=UDim2.new(0,1,1,0); ZIndex=21; Parent=P; }); end; o:CreateLabel{ Size=UDim2.new(1,0,0,14); Position=UDim2.fromOffset(5,5); TextXAlignment=Enum.TextXAlignment.Left; TextSize=14; Text=x.Title, TextWrapped=false; ZIndex=16; Parent=A; }; local R={} do R.Options={} R.Container=o:Create('Frame',{ BorderColor3=Color3.new(), ZIndex=14, Visible=false, Parent=l }) R.Inner=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.fromScale(1,1); ZIndex=15; Parent=R.Container; }); o:Create('UIListLayout',{ Name='Layout', FillDirection=Enum.FillDirection.Vertical; SortOrder=Enum.SortOrder.LayoutOrder; Parent=R.Inner; }); o:Create('UIPadding',{ Name='Padding', PaddingLeft=UDim.new(0,4), Parent=R.Inner, }); local function updateMenuPosition() R.Container.Position=UDim2.fromOffset( (y.AbsolutePosition.X+y.AbsoluteSize.X)+4, y.AbsolutePosition.Y+1 ) end local function updateMenuSize() local S=60 for T,U in next,R.Inner:GetChildren()do if U:IsA'TextLabel'then S=math.max(S,U.TextBounds.X) end end R.Container.Size=UDim2.fromOffset( S+8, R.Inner.Layout.AbsoluteContentSize.Y+4 ) end y:GetPropertyChangedSignal'AbsolutePosition':Connect(updateMenuPosition) R.Inner.Layout:GetPropertyChangedSignal'AbsoluteContentSize':Connect(updateMenuSize) task.spawn(updateMenuPosition) task.spawn(updateMenuSize) o:AddToRegistry(R.Inner,{ BackgroundColor3='BackgroundColor'; BorderColor3='OutlineColor'; }); function R.Show(S) S.Container.Visible=true end function R.Hide(S) S.Container.Visible=false end function R.AddOption(S,T,U) if type(U)~='function'then U=function()end end local V=o:CreateLabel{ Active=false; Size=UDim2.new(1,0,0,15); TextSize=13; Text=T; ZIndex=16; Parent=S.Inner; TextXAlignment=Enum.TextXAlignment.Left, }; o:OnHighlight(V,V, {TextColor3='AccentColor'}, {TextColor3='FontColor'} ); V.InputBegan:Connect(function(W) if W.UserInputType~=Enum.UserInputType.MouseButton1 then return end U() end) end R:AddOption('Copy color',function() o.ColorClipboard=x.Value o:Notify('Copied color!',2) end) R:AddOption('Paste color',function() if not o.ColorClipboard then return o:Notify('You have not copied a color!',2) end x:SetValueRGB(o.ColorClipboard) end) R:AddOption('Copy HEX',function() pcall(setclipboard,x.Value:ToHex()) o:Notify('Copied hex code to clipboard!',2) end) R:AddOption('Copy RGB',function() pcall(setclipboard,table.concat({math.floor(x.Value.R*255),math.floor(x.Value.G*255),math.floor(x.Value.B*255)},', ')) o:Notify('Copied RGB values to clipboard!',2) end) end o:AddToRegistry(A,{BackgroundColor3='BackgroundColor';BorderColor3='OutlineColor';}); o:AddToRegistry(B,{BackgroundColor3='AccentColor';}); o:AddToRegistry(D,{BackgroundColor3='BackgroundColor';BorderColor3='OutlineColor';}); o:AddToRegistry(K,{BackgroundColor3='MainColor';BorderColor3='OutlineColor';}); o:AddToRegistry(M.Frame,{BackgroundColor3='MainColor';BorderColor3='OutlineColor';}); o:AddToRegistry(N,{TextColor3='FontColor',}); o:AddToRegistry(L,{TextColor3='FontColor',}); local S={}; for T=0,1,0.1 do table.insert(S,ColorSequenceKeypoint.new(T,Color3.fromHSV(T,1,1))); end; o:Create('UIGradient',{ Color=ColorSequence.new(S); Rotation=90; Parent=H; }); L.FocusLost:Connect(function(T) if T then local U,V=pcall(Color3.fromHex,L.Text) if U and typeof(V)=='Color3'then x.Hue,x.Sat,x.Vib=Color3.toHSV(V) end end x:Display() end) N.FocusLost:Connect(function(T) if T then local U,V,W=N.Text:match'(%d+),%s*(%d+),%s*(%d+)' if U and V and W then x.Hue,x.Sat,x.Vib=Color3.toHSV(Color3.fromRGB(U,V,W)) end end x:Display() end) function x.Display(T) x.Value=Color3.fromHSV(x.Hue,x.Sat,x.Vib); E.BackgroundColor3=Color3.fromHSV(x.Hue,1,1); o:Create(y,{ BackgroundColor3=x.Value; BackgroundTransparency=x.Transparency; BorderColor3=o:GetDarkerColor(x.Value); }); if P then P.BackgroundColor3=x.Value; Q.Position=UDim2.new(1-x.Transparency,0,0,0); end; F.Position=UDim2.new(x.Sat,0,1-x.Vib,0); I.Position=UDim2.new(0,0,x.Hue,0); L.Text='#'..x.Value:ToHex() N.Text=table.concat({math.floor(x.Value.R*255),math.floor(x.Value.G*255),math.floor(x.Value.B*255)},', ') o:SafeCallback(x.Callback,x.Value); o:SafeCallback(x.Changed,x.Value); end; function x.OnChanged(T,U) x.Changed=U; U(x.Value) end; function x.Show(T) for U,V in next,o.OpenedFrames do if U.Name=='Color'then U.Visible=false; o.OpenedFrames[U]=nil; end; end; z.Visible=true; o.OpenedFrames[z]=true; end; function x.Hide(T) z.Visible=false; o.OpenedFrames[z]=nil; end; function x.SetValue(T,U,V) local W=Color3.fromHSV(U[1],U[2],U[3]); x.Transparency=V or 0; x:SetHSVFromRGB(W); x:Display(); end; function x.SetValueRGB(T,U,V) x.Transparency=V or 0; x:SetHSVFromRGB(U); x:Display(); end; E.InputBegan:Connect(function(T) if T.UserInputType==Enum.UserInputType.MouseButton1 then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do local U=E.AbsolutePosition.X; local V=U+E.AbsoluteSize.X; local W=math.clamp(j.X,U,V); local X=E.AbsolutePosition.Y; local Y=X+E.AbsoluteSize.Y; local Z=math.clamp(j.Y,X,Y); x.Sat=(W-U)/(V-U); x.Vib=1-((Z-X)/(Y-X)); x:Display(); h:Wait(); end; o:AttemptSave(); end; end); H.InputBegan:Connect(function(T) if T.UserInputType==Enum.UserInputType.MouseButton1 then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do local U=H.AbsolutePosition.Y; local V=U+H.AbsoluteSize.Y; local W=math.clamp(j.Y,U,V); x.Hue=((W-U)/(V-U)); x:Display(); h:Wait(); end; o:AttemptSave(); end; end); y.InputBegan:Connect(function(T) if T.UserInputType==Enum.UserInputType.MouseButton1 and not o:MouseIsOverOpenedFrame()then if z.Visible then x:Hide() else R:Hide() x:Show() end; elseif T.UserInputType==Enum.UserInputType.MouseButton2 and not o:MouseIsOverOpenedFrame()then R:Show() x:Hide() end end); if P then P.InputBegan:Connect(function(T) if T.UserInputType==Enum.UserInputType.MouseButton1 then while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do local U=P.AbsolutePosition.X; local V=U+P.AbsoluteSize.X; local W=math.clamp(j.X,U,V); x.Transparency=1-((W-U)/(V-U)); x:Display(); h:Wait(); end; o:AttemptSave(); end; end); end; o:GiveSignal(a.InputBegan:Connect(function(T) if T.UserInputType==Enum.UserInputType.MouseButton1 then local U,V=z.AbsolutePosition,z.AbsoluteSize; if j.X<U.X or j.X>U.X+V.X or j.Y<(U.Y-20-1)or j.Y>U.Y+V.Y then x:Hide(); end; if not o:IsMouseOverFrame(R.Container)then R:Hide() end end; if T.UserInputType==Enum.UserInputType.MouseButton2 and R.Container.Visible then if not o:IsMouseOverFrame(R.Container)and not o:IsMouseOverFrame(y)then R:Hide() end end end)) x:Display(); x.DisplayFrame=y n[u]=x; return t end; function s.AddKeyPicker(t,u,v) local w=t; local x=t.TextLabel;local y= t.Container; assert(v.Default,'AddKeyPicker: Missing default value.'); local z={ Value=v.Default; Toggled=false; Mode=v.Mode or'Toggle'; Type='KeyPicker'; Callback=v.Callback or function(z)end; ChangedCallback=v.ChangedCallback or function(z)end; SyncToggleState=v.SyncToggleState or false; }; if z.SyncToggleState then v.Modes={'Toggle'} v.Mode='Toggle' end local A=o:Create('Frame',{ BackgroundColor3=Color3.new(0,0,0); BorderColor3=Color3.new(0,0,0); Size=UDim2.new(0,28,0,15); ZIndex=6; Parent=x; }); local B=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=7; Parent=A; }); o:AddToRegistry(B,{ BackgroundColor3='BackgroundColor'; BorderColor3='OutlineColor'; }); local C=o:CreateLabel{ Size=UDim2.new(1,0,1,0); TextSize=13; Text=v.Default; TextWrapped=true; ZIndex=8; Parent=B; }; local D=o:Create('Frame',{ BorderColor3=Color3.new(0,0,0); Position=UDim2.fromOffset(x.AbsolutePosition.X+x.AbsoluteSize.X+4,x.AbsolutePosition.Y+1); Size=UDim2.new(0,60,0,47); Visible=false; ZIndex=14; Parent=l; }); x:GetPropertyChangedSignal'AbsolutePosition':Connect(function() D.Position=UDim2.fromOffset(x.AbsolutePosition.X+x.AbsoluteSize.X+4,x.AbsolutePosition.Y+1); end); local E=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=15; Parent=D; }); o:AddToRegistry(E,{ BackgroundColor3='BackgroundColor'; BorderColor3='OutlineColor'; }); o:Create('UIListLayout',{ FillDirection=Enum.FillDirection.Vertical; SortOrder=Enum.SortOrder.LayoutOrder; Parent=E; }); local F=o:CreateLabel({ TextXAlignment=Enum.TextXAlignment.Left; Size=UDim2.new(1,0,0,18); TextSize=13; Visible=false; ZIndex=110; Parent=o.KeybindContainer; },true); local G=v.Modes or{'Always','Toggle','Hold'}; local H={}; for I,J in next,G do local K={}; local L=o:CreateLabel{ Active=false; Size=UDim2.new(1,0,0,15); TextSize=13; Text=J; ZIndex=16; Parent=E; }; function K.Select(M) for N,O in next,H do O:Deselect(); end; z.Mode=J; L.TextColor3=o.AccentColor; o.RegistryMap[L].Properties.TextColor3='AccentColor'; D.Visible=false; end; function K.Deselect(M) z.Mode=nil; L.TextColor3=o.FontColor; o.RegistryMap[L].Properties.TextColor3='FontColor'; end; L.InputBegan:Connect(function(M) if M.UserInputType==Enum.UserInputType.MouseButton1 then K:Select(); o:AttemptSave(); end; end); if J==z.Mode then K:Select(); end; H[J]=K; end; function z.Update(I) if v.NoUI then return end; local J=z:GetState(); F.Text=string.format('[%s] %s (%s)',z.Value,v.Text,z.Mode); F.Visible=true; F.TextColor3=J and o.AccentColor or o.FontColor; o.RegistryMap[F].Properties.TextColor3=J and'AccentColor'or'FontColor'; local K=0 local L=0 for M,N in next,o.KeybindContainer:GetChildren()do if N:IsA'TextLabel'and N.Visible then K=K+18; if(N.TextBounds.X>L)then L=N.TextBounds.X end end; end; o.KeybindFrame.Size=UDim2.new(0,math.max(L+10,210),0,K+23) end; function z.GetState(I) if z.Mode=='Always'then return true elseif z.Mode=='Hold'then if z.Value=='None'then return false end local J=z.Value; if J=='MB1'or J=='MB2'then return J=='MB1'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1) or J=='MB2'and a:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) else return a:IsKeyDown(Enum.KeyCode[z.Value]) end; else return z.Toggled end; end; function z.SetValue(I,J) local K,L=J[1],J[2]; C.Text=K; z.Value=K; H[L]:Select(); z:Update(); end; function z.OnClick(I,J) z.Clicked=J end function z.OnChanged(I,J) z.Changed=J J(z.Value) end if w.Addons then table.insert(w.Addons,z) end function z.DoClick(I) if w.Type=='Toggle'and z.SyncToggleState then w:SetValue(not w.Value) end o:SafeCallback(z.Callback,z.Toggled) o:SafeCallback(z.Clicked,z.Toggled) end local I=false; A.InputBegan:Connect(function(J) if J.UserInputType==Enum.UserInputType.MouseButton1 and not o:MouseIsOverOpenedFrame()then I=true; C.Text=''; local K; local L=''; task.spawn(function() while(not K)do if L=='...'then L=''; end; L=L..'.'; C.Text=L; wait(0.4); end; end); wait(0.2); local M; M=a.InputBegan:Connect(function(N) local O; if N.UserInputType==Enum.UserInputType.Keyboard then O=N.KeyCode.Name; elseif N.UserInputType==Enum.UserInputType.MouseButton1 then O='MB1'; elseif N.UserInputType==Enum.UserInputType.MouseButton2 then O='MB2'; end; K=true; I=false; C.Text=O; z.Value=O; o:SafeCallback(z.ChangedCallback,N.KeyCode or N.UserInputType) o:SafeCallback(z.Changed,N.KeyCode or N.UserInputType) o:AttemptSave(); M:Disconnect(); end); elseif J.UserInputType==Enum.UserInputType.MouseButton2 and not o:MouseIsOverOpenedFrame()then D.Visible=true; end; end); o:GiveSignal(a.InputBegan:Connect(function(J) if(not I)then if z.Mode=='Toggle'then local K=z.Value; if K=='MB1'or K=='MB2'then if K=='MB1'and J.UserInputType==Enum.UserInputType.MouseButton1 or K=='MB2'and J.UserInputType==Enum.UserInputType.MouseButton2 then z.Toggled=not z.Toggled z:DoClick() end; elseif J.UserInputType==Enum.UserInputType.Keyboard then if J.KeyCode.Name==K then z.Toggled=not z.Toggled; z:DoClick() end; end; end; z:Update(); end; if J.UserInputType==Enum.UserInputType.MouseButton1 then local K,L=D.AbsolutePosition,D.AbsoluteSize; if j.X<K.X or j.X>K.X+L.X or j.Y<(K.Y-20-1)or j.Y>K.Y+L.Y then D.Visible=false; end; end; end)) o:GiveSignal(a.InputEnded:Connect(function(J) if(not I)then z:Update(); end; end)) z:Update(); n[u]=z; return t end; r.__index=s; r.__namecall=function(t,u,...) return s[u](...) end; end; local s={}; do local t={}; function t.AddBlank(u,v) local w=u; local x=w.Container; o:Create('Frame',{ BackgroundTransparency=1; Size=UDim2.new(1,0,0,v); ZIndex=1; Parent=x; }); end; function t.AddLabel(u,v,w) local x={}; local y=u; local z=y.Container; local A=o:CreateLabel{ Size=UDim2.new(1,-4,0,15); TextSize=14; Text=v; TextWrapped=w or false, TextXAlignment=Enum.TextXAlignment.Left; ZIndex=5; Parent=z; }; if w then local B=select(2,o:GetTextBounds(v,o.Font,14,Vector2.new(A.AbsoluteSize.X,math.huge))) A.Size=UDim2.new(1,-4,0,B) else o:Create('UIListLayout',{ Padding=UDim.new(0,4); FillDirection=Enum.FillDirection.Horizontal; HorizontalAlignment=Enum.HorizontalAlignment.Right; SortOrder=Enum.SortOrder.LayoutOrder; Parent=A; }); end x.TextLabel=A; x.Container=z; function x.SetText(B,C) A.Text=C if w then local D=select(2,o:GetTextBounds(C,o.Font,14,Vector2.new(A.AbsoluteSize.X,math.huge))) A.Size=UDim2.new(1,-4,0,D) end y:Resize(); end if(not w)then setmetatable(x,r); end y:AddBlank(5); y:Resize(); return x end; function t.AddButton(u,...) local v={}; local function ProcessButtonParams(w,x,...) local y=select(1,...) if type(y)=='table'then x.Text=y.Text x.Func=y.Func x.DoubleClick=y.DoubleClick x.Tooltip=y.Tooltip else x.Text=select(1,...) x.Func=select(2,...) end assert(type(x.Func)=='function','AddButton: `Func` callback is missing.'); end ProcessButtonParams('Button',v,...) local w=u; local x=w.Container; local function CreateBaseButton(y) local z=o:Create('Frame',{ BackgroundColor3=Color3.new(0,0,0); BorderColor3=Color3.new(0,0,0); Size=UDim2.new(1,-4,0,20); ZIndex=5; }); local A=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=6; Parent=z; }); local B=o:CreateLabel{ Size=UDim2.new(1,0,1,0); TextSize=14; Text=y.Text; ZIndex=6; Parent=A; }; o:Create('UIGradient',{ Color=ColorSequence.new{ ColorSequenceKeypoint.new(0,Color3.new(1,1,1)), ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212)) }; Rotation=90; Parent=A; }); o:AddToRegistry(z,{ BorderColor3='Black'; }); o:AddToRegistry(A,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; }); o:OnHighlight(z,z, {BorderColor3='AccentColor'}, {BorderColor3='Black'} ); return z,A,B end local function InitEvents(y) local function WaitForEvent(z,A,B) local C=Instance.new'BindableEvent' local D=z:Once(function(...) if type(B)=='function'and B(...)then C:Fire(true) else C:Fire(false) end end) task.delay(A,function() D:disconnect() C:Fire(false) end) return C.Event:Wait() end local function ValidateClick(z) if o:MouseIsOverOpenedFrame()then return false end if z.UserInputType~=Enum.UserInputType.MouseButton1 then return false end return true end y.Outer.InputBegan:Connect(function(z) if not ValidateClick(z)then return end if y.Locked then return end if y.DoubleClick then o:RemoveFromRegistry(y.Label) o:AddToRegistry(y.Label,{TextColor3='AccentColor'}) y.Label.TextColor3=o.AccentColor y.Label.Text='Are you sure?' y.Locked=true local A=WaitForEvent(y.Outer.InputBegan,0.5,ValidateClick) o:RemoveFromRegistry(y.Label) o:AddToRegistry(y.Label,{TextColor3='FontColor'}) y.Label.TextColor3=o.FontColor y.Label.Text=y.Text task.defer(rawset,y,'Locked',false) if A then o:SafeCallback(y.Func) end return end o:SafeCallback(y.Func); end) end v.Outer,v.Inner,v.Label=CreateBaseButton(v) v.Outer.Parent=x InitEvents(v) function v.AddTooltip(y,z) if type(z)=='string'then o:AddToolTip(z,y.Outer) end return y end function v.AddButton(y,...) local z={} ProcessButtonParams('SubButton',z,...) y.Outer.Size=UDim2.new(0.5,-2,0,20) z.Outer,z.Inner,z.Label=CreateBaseButton(z) z.Outer.Position=UDim2.new(1,3,0,0) z.Outer.Size=UDim2.fromOffset(y.Outer.AbsoluteSize.X-2,y.Outer.AbsoluteSize.Y) z.Outer.Parent=y.Outer function z.AddTooltip(A,B) if type(B)=='string'then o:AddToolTip(B,A.Outer) end return z end if type(z.Tooltip)=='string'then z:AddTooltip(z.Tooltip) end InitEvents(z) return z end if type(v.Tooltip)=='string'then v:AddTooltip(v.Tooltip) end w:AddBlank(5); w:Resize(); return v end; function t.AddDivider(u) local v=u; local w=u.Container v:AddBlank(2); local x=o:Create('Frame',{ BackgroundColor3=Color3.new(0,0,0); BorderColor3=Color3.new(0,0,0); Size=UDim2.new(1,-4,0,5); ZIndex=5; Parent=w; }); local y=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=6; Parent=x; }); o:AddToRegistry(x,{ BorderColor3='Black'; }); o:AddToRegistry(y,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; }); v:AddBlank(9); v:Resize(); end function t.AddInput(u,v,w) assert(w.Text,'AddInput: Missing `Text` string.') local x={ Value=w.Default or''; Numeric=w.Numeric or false; Finished=w.Finished or false; Type='Input'; Callback=w.Callback or function(x)end; }; local y=u; local z=y.Container; o:CreateLabel{ Size=UDim2.new(1,0,0,15); TextSize=14; Text=w.Text; TextXAlignment=Enum.TextXAlignment.Left; ZIndex=5; Parent=z; }; y:AddBlank(1); local A=o:Create('Frame',{ BackgroundColor3=Color3.new(0,0,0); BorderColor3=Color3.new(0,0,0); Size=UDim2.new(1,-4,0,20); ZIndex=5; Parent=z; }); local B=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=6; Parent=A; }); o:AddToRegistry(B,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; }); o:OnHighlight(A,A, {BorderColor3='AccentColor'}, {BorderColor3='Black'} ); if type(w.Tooltip)=='string'then o:AddToolTip(w.Tooltip,A) end o:Create('UIGradient',{ Color=ColorSequence.new{ ColorSequenceKeypoint.new(0,Color3.new(1,1,1)), ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212)) }; Rotation=90; Parent=B; }); local C=o:Create('Frame',{ BackgroundTransparency=1; ClipsDescendants=true; Position=UDim2.new(0,5,0,0); Size=UDim2.new(1,-5,1,0); ZIndex=7; Parent=B; }) local D=o:Create('TextBox',{ BackgroundTransparency=1; Position=UDim2.fromOffset(0,0), Size=UDim2.fromScale(5,1), Font=o.Font; PlaceholderColor3=Color3.fromRGB(190,190,190); PlaceholderText=w.Placeholder or''; Text=w.Default or''; TextColor3=o.FontColor; TextSize=14; TextStrokeTransparency=0; TextXAlignment=Enum.TextXAlignment.Left; ZIndex=7; Parent=C; }); o:ApplyTextStroke(D); function x.SetValue(E,F) if w.MaxLength and#F>w.MaxLength then F=F:sub(1,w.MaxLength); end; if x.Numeric then if(not tonumber(F))and F:len()>0 then F=x.Value end end x.Value=F; D.Text=F; o:SafeCallback(x.Callback,x.Value); o:SafeCallback(x.Changed,x.Value); end; if x.Finished then D.FocusLost:Connect(function(E) if not E then return end x:SetValue(D.Text); o:AttemptSave(); end) else D:GetPropertyChangedSignal'Text':Connect(function() x:SetValue(D.Text); o:AttemptSave(); end); end local function Update() local E=2 local F=C.AbsoluteSize.X if not D:IsFocused()or D.TextBounds.X<=F-2*E then D.Position=UDim2.new(0,E,0,0) else local G=D.CursorPosition if G~=-1 then local H=string.sub(D.Text,1,G-1) local I=b:GetTextSize(H,D.TextSize,D.Font,Vector2.new(math.huge,math.huge)).X local J=D.Position.X.Offset+I if J<E then D.Position=UDim2.fromOffset(E-I,0) elseif J>F-E-1 then D.Position=UDim2.fromOffset(F-I-E-1,0) end end end end task.spawn(Update) D:GetPropertyChangedSignal'Text':Connect(Update) D:GetPropertyChangedSignal'CursorPosition':Connect(Update) D.FocusLost:Connect(Update) D.Focused:Connect(Update) o:AddToRegistry(D,{ TextColor3='FontColor'; }); function x.OnChanged(E,F) x.Changed=F; F(x.Value); end; y:AddBlank(5); y:Resize(); n[v]=x; return x end; function t.AddToggle(u,v,w) assert(w.Text,'AddInput: Missing `Text` string.') local x={ Value=w.Default or false; Type='Toggle'; Callback=w.Callback or function(x)end; Addons={}, Risky=w.Risky, }; local y=u; local A=y.Container; local B=o:Create('Frame',{ BackgroundColor3=Color3.new(0,0,0); BorderColor3=Color3.new(0,0,0); Size=UDim2.new(0,13,0,13); ZIndex=5; Parent=A; }); o:AddToRegistry(B,{ BorderColor3='Black'; }); local C=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=6; Parent=B; }); o:AddToRegistry(C,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; }); local D=o:CreateLabel{ Size=UDim2.new(0,216,1,0); Position=UDim2.new(1,6,0,0); TextSize=14; Text=w.Text; TextXAlignment=Enum.TextXAlignment.Left; ZIndex=6; Parent=C; }; o:Create('UIListLayout',{ Padding=UDim.new(0,4); FillDirection=Enum.FillDirection.Horizontal; HorizontalAlignment=Enum.HorizontalAlignment.Right; SortOrder=Enum.SortOrder.LayoutOrder; Parent=D; }); local E=o:Create('Frame',{ BackgroundTransparency=1; Size=UDim2.new(0,170,1,0); ZIndex=8; Parent=B; }); o:OnHighlight(E,B, {BorderColor3='AccentColor'}, {BorderColor3='Black'} ); function x.UpdateColors(F) x:Display(); end; if type(w.Tooltip)=='string'then o:AddToolTip(w.Tooltip,E) end function x.Display(F) C.BackgroundColor3=x.Value and o.AccentColor or o.MainColor; C.BorderColor3=x.Value and o.AccentColorDark or o.OutlineColor; o.RegistryMap[C].Properties.BackgroundColor3=x.Value and'AccentColor'or'MainColor'; o.RegistryMap[C].Properties.BorderColor3=x.Value and'AccentColorDark'or'OutlineColor'; end; function x.OnChanged(F,G) x.Changed=G; G(x.Value); end; function x.SetValue(F,G) G=(not not G); x.Value=G; x:Display(); for H,I in next,x.Addons do if I.Type=='KeyPicker'and I.SyncToggleState then I.Toggled=G I:Update() end end o:SafeCallback(x.Callback,x.Value); o:SafeCallback(x.Changed,x.Value); o:UpdateDependencyBoxes(); end; E.InputBegan:Connect(function(F) if F.UserInputType==Enum.UserInputType.MouseButton1 and not o:MouseIsOverOpenedFrame()then x:SetValue(not x.Value) o:AttemptSave(); end; end); if x.Risky then o:RemoveFromRegistry(D) D.TextColor3=o.RiskColor o:AddToRegistry(D,{TextColor3='RiskColor'}) end x:Display(); y:AddBlank(w.BlankSize or 7); y:Resize(); x.TextLabel=D; x.Container=A; setmetatable(x,r); m[v]=x; o:UpdateDependencyBoxes(); return x end; function t.AddSlider(u,v,w) assert(w.Default,'AddSlider: Missing default value.'); assert(w.Text,'AddSlider: Missing slider text.'); assert(w.Min,'AddSlider: Missing minimum value.'); assert(w.Max,'AddSlider: Missing maximum value.'); assert(w.Rounding,'AddSlider: Missing rounding value.'); local x={ Value=w.Default; Min=w.Min; Max=w.Max; Rounding=w.Rounding; MaxSize=232; Type='Slider'; Callback=w.Callback or function(x)end; }; local y=u; local A=y.Container; if not w.Compact then o:CreateLabel{ Size=UDim2.new(1,0,0,10); TextSize=14; Text=w.Text; TextXAlignment=Enum.TextXAlignment.Left; TextYAlignment=Enum.TextYAlignment.Bottom; ZIndex=5; Parent=A; }; y:AddBlank(3); end local B=o:Create('Frame',{ BackgroundColor3=Color3.new(0,0,0); BorderColor3=Color3.new(0,0,0); Size=UDim2.new(1,-4,0,13); ZIndex=5; Parent=A; }); o:AddToRegistry(B,{ BorderColor3='Black'; }); local C=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=6; Parent=B; }); o:AddToRegistry(C,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; }); local D=o:Create('Frame',{ BackgroundColor3=o.AccentColor; BorderColor3=o.AccentColorDark; Size=UDim2.new(0,0,1,0); ZIndex=7; Parent=C; }); o:AddToRegistry(D,{ BackgroundColor3='AccentColor'; BorderColor3='AccentColorDark'; }); local E=o:Create('Frame',{ BackgroundColor3=o.AccentColor; BorderSizePixel=0; Position=UDim2.new(1,0,0,0); Size=UDim2.new(0,1,1,0); ZIndex=8; Parent=D; }); o:AddToRegistry(E,{ BackgroundColor3='AccentColor'; }); local F=o:CreateLabel{ Size=UDim2.new(1,0,1,0); TextSize=14; Text='Infinite'; ZIndex=9; Parent=C; }; o:OnHighlight(B,B, {BorderColor3='AccentColor'}, {BorderColor3='Black'} ); if type(w.Tooltip)=='string'then o:AddToolTip(w.Tooltip,B) end function x.UpdateColors(G) D.BackgroundColor3=o.AccentColor; D.BorderColor3=o.AccentColorDark; end; function x.Display(G) local H=w.Suffix or''; if w.Compact then F.Text=w.Text..': '..x.Value..H elseif w.HideMax then F.Text=string.format('%s',x.Value..H) else F.Text=string.format('%s/%s',x.Value..H,x.Max..H); end local I=math.ceil(o:MapValue(x.Value,x.Min,x.Max,0,x.MaxSize)); D.Size=UDim2.new(0,I,1,0); E.Visible=not(I==x.MaxSize or I==0); end; function x.OnChanged(G,H) x.Changed=H; H(x.Value); end; local function Round(G) if x.Rounding==0 then return math.floor(G) end; return tonumber(string.format('%.'..x.Rounding..'f',G)) end; function x.GetValueFromXOffset(G,H) return Round(o:MapValue(H,0,x.MaxSize,x.Min,x.Max)) end; function x.SetValue(G,H) local I=tonumber(H); if(not I)then return end; I=math.clamp(I,x.Min,x.Max); x.Value=I; x:Display(); o:SafeCallback(x.Callback,x.Value); o:SafeCallback(x.Changed,x.Value); end; C.InputBegan:Connect(function(G) if G.UserInputType==Enum.UserInputType.MouseButton1 and not o:MouseIsOverOpenedFrame()then local H=j.X; local I=D.Size.X.Offset; local J=H-(D.AbsolutePosition.X+I); while a:IsMouseButtonPressed(Enum.UserInputType.MouseButton1)do local K=j.X; local L=math.clamp(I+(K-H)+J,0,x.MaxSize); local M=x:GetValueFromXOffset(L); local N=x.Value; x.Value=M; x:Display(); if M~=N then o:SafeCallback(x.Callback,x.Value); o:SafeCallback(x.Changed,x.Value); end; h:Wait(); end; o:AttemptSave(); end; end); x:Display(); y:AddBlank(w.BlankSize or 6); y:Resize(); n[v]=x; return x end; function t.AddDropdown(u,v,w) if w.SpecialType=='Player'then w.Values=GetPlayersString(); w.AllowNull=true; elseif w.SpecialType=='Team'then w.Values=GetTeamsString(); w.AllowNull=true; end; assert(w.Values,'AddDropdown: Missing dropdown value list.'); assert(w.AllowNull or w.Default,'AddDropdown: Missing default value. Pass `AllowNull` as true if this was intentional.') if(not w.Text)then w.Compact=true; end; local x={ Values=w.Values; Value=w.Multi and{}; Multi=w.Multi; Type='Dropdown'; SpecialType=w.SpecialType; Callback=w.Callback or function(x)end; }; local y=u; local A=y.Container; local B=0; if not w.Compact then o:CreateLabel{ Size=UDim2.new(1,0,0,10); TextSize=14; Text=w.Text; TextXAlignment=Enum.TextXAlignment.Left; TextYAlignment=Enum.TextYAlignment.Bottom; ZIndex=5; Parent=A; }; y:AddBlank(3); end for C,D in next,A:GetChildren()do if not D:IsA'UIListLayout'then B=B+D.Size.Y.Offset; end; end; local C=o:Create('Frame',{ BackgroundColor3=Color3.new(0,0,0); BorderColor3=Color3.new(0,0,0); Size=UDim2.new(1,-4,0,20); ZIndex=5; Parent=A; }); o:AddToRegistry(C,{ BorderColor3='Black'; }); local D=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=6; Parent=C; }); o:AddToRegistry(D,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; }); o:Create('UIGradient',{ Color=ColorSequence.new{ ColorSequenceKeypoint.new(0,Color3.new(1,1,1)), ColorSequenceKeypoint.new(1,Color3.fromRGB(212,212,212)) }; Rotation=90; Parent=D; }); local E=o:Create('ImageLabel',{ AnchorPoint=Vector2.new(0,0.5); BackgroundTransparency=1; Position=UDim2.new(1,-16,0.5,0); Size=UDim2.new(0,12,0,12); Image='http://www.roblox.com/asset/?id=6282522798'; ZIndex=8; Parent=D; }); local F=o:CreateLabel{ Position=UDim2.new(0,5,0,0); Size=UDim2.new(1,-5,1,0); TextSize=14; Text='--'; TextXAlignment=Enum.TextXAlignment.Left; TextWrapped=true; ZIndex=7; Parent=D; }; o:OnHighlight(C,C, {BorderColor3='AccentColor'}, {BorderColor3='Black'} ); if type(w.Tooltip)=='string'then o:AddToolTip(w.Tooltip,C) end local G=8; local H=o:Create('Frame',{ BackgroundColor3=Color3.new(0,0,0); BorderColor3=Color3.new(0,0,0); ZIndex=20; Visible=false; Parent=l; }); local function RecalculateListPosition() H.Position=UDim2.fromOffset(C.AbsolutePosition.X,C.AbsolutePosition.Y+C.Size.Y.Offset+1); end; local function RecalculateListSize(I) H.Size=UDim2.fromOffset(C.AbsoluteSize.X,I or(G*20+2)) end; RecalculateListPosition(); RecalculateListSize(); C:GetPropertyChangedSignal'AbsolutePosition':Connect(RecalculateListPosition); local I=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; BorderSizePixel=0; Size=UDim2.new(1,0,1,0); ZIndex=21; Parent=H; }); o:AddToRegistry(I,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; }); local J=o:Create('ScrollingFrame',{ BackgroundTransparency=1; BorderSizePixel=0; CanvasSize=UDim2.new(0,0,0,0); Size=UDim2.new(1,0,1,0); ZIndex=21; Parent=I; TopImage='rbxasset://textures/ui/Scroll/scroll-middle.png', BottomImage='rbxasset://textures/ui/Scroll/scroll-middle.png', ScrollBarThickness=3, ScrollBarImageColor3=o.AccentColor, }); o:AddToRegistry(J,{ ScrollBarImageColor3='AccentColor' }) o:Create('UIListLayout',{ Padding=UDim.new(0,0); FillDirection=Enum.FillDirection.Vertical; SortOrder=Enum.SortOrder.LayoutOrder; Parent=J; }); function x.Display(K) local L=x.Values; local M=''; if w.Multi then for N,O in next,L do if x.Value[O]then M=M..O..', '; end; end; M=M:sub(1,#M-2); else M=x.Value or''; end; F.Text=(M==''and'--'or M); end; function x.GetActiveValues(K) if w.Multi then local L={}; for M,N in next,x.Value do table.insert(L,M); end; return L else return x.Value and 1 or 0 end; end; function x.BuildDropdownList(K) local L=x.Values; local M={}; for N,O in next,J:GetChildren()do if not O:IsA'UIListLayout'then O:Destroy(); end; end; local N=0; for O,P in next,L do local Q={}; N=N+1; local R=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Middle; Size=UDim2.new(1,-1,0,20); ZIndex=23; Active=true, Parent=J; }); o:AddToRegistry(R,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; }); local S=o:CreateLabel{ Active=false; Size=UDim2.new(1,-6,1,0); Position=UDim2.new(0,6,0,0); TextSize=14; Text=P; TextXAlignment=Enum.TextXAlignment.Left; ZIndex=25; Parent=R; }; o:OnHighlight(R,R, {BorderColor3='AccentColor',ZIndex=24}, {BorderColor3='OutlineColor',ZIndex=23} ); local T; if w.Multi then T=x.Value[P]; else T=x.Value==P; end; function Q.UpdateButton(U) if w.Multi then T=x.Value[P]; else T=x.Value==P; end; S.TextColor3=T and o.AccentColor or o.FontColor; o.RegistryMap[S].Properties.TextColor3=T and'AccentColor'or'FontColor'; end; S.InputBegan:Connect(function(U) if U.UserInputType==Enum.UserInputType.MouseButton1 then local V=not T; if x:GetActiveValues()==1 and(not V)and(not w.AllowNull)then else if w.Multi then T=V; if T then x.Value[P]=true; else x.Value[P]=nil; end; else T=V; if T then x.Value=P; else x.Value=nil; end; for W,X in next,M do X:UpdateButton(); end; end; Q:UpdateButton(); x:Display(); o:SafeCallback(x.Callback,x.Value); o:SafeCallback(x.Changed,x.Value); o:AttemptSave(); end; end; end); Q:UpdateButton(); x:Display(); M[R]=Q; end; J.CanvasSize=UDim2.fromOffset(0,(N*20)+1); local O=math.clamp(N*20,0,G*20)+1; RecalculateListSize(O); end; function x.SetValues(K,L) if L then x.Values=L; end; x:BuildDropdownList(); end; function x.OpenDropdown(K) H.Visible=true; o.OpenedFrames[H]=true; E.Rotation=180; end; function x.CloseDropdown(K) H.Visible=false; o.OpenedFrames[H]=nil; E.Rotation=0; end; function x.OnChanged(K,L) x.Changed=L; L(x.Value); end; function x.SetValue(K,L) if x.Multi then local M={}; for N,O in next,L do if table.find(x.Values,N)then M[N]=true end; end; x.Value=M; else if(not L)then x.Value=nil; elseif table.find(x.Values,L)then x.Value=L; end; end; x:BuildDropdownList(); o:SafeCallback(x.Callback,x.Value); o:SafeCallback(x.Changed,x.Value); end; C.InputBegan:Connect(function(K) if K.UserInputType==Enum.UserInputType.MouseButton1 and not o:MouseIsOverOpenedFrame()then if H.Visible then x:CloseDropdown(); else x:OpenDropdown(); end; end; end); a.InputBegan:Connect(function(K) if K.UserInputType==Enum.UserInputType.MouseButton1 then local L,M=H.AbsolutePosition,H.AbsoluteSize; if j.X<L.X or j.X>L.X+M.X or j.Y<(L.Y-20-1)or j.Y>L.Y+M.Y then x:CloseDropdown(); end; end; end); x:BuildDropdownList(); x:Display(); local K={} if type(w.Default)=='string'then local L=table.find(x.Values,w.Default) if L then table.insert(K,L) end elseif type(w.Default)=='table'then for L,M in next,w.Default do local N=table.find(x.Values,M) if N then table.insert(K,N) end end elseif type(w.Default)=='number'and x.Values[w.Default]~=nil then table.insert(K,w.Default) end if next(K)then for L=1,#K do local M=K[L] if w.Multi then x.Value[x.Values[M] ]=true else x.Value=x.Values[M]; end if(not w.Multi)then break end end x:BuildDropdownList(); x:Display(); end y:AddBlank(w.BlankSize or 5); y:Resize(); n[v]=x; return x end; function t.AddDependencyBox(u) local v={ Dependencies={}; }; local w=u; local x=w.Container; local y=o:Create('Frame',{ BackgroundTransparency=1; Size=UDim2.new(1,0,0,0); Visible=false; Parent=x; }); local A=o:Create('Frame',{ BackgroundTransparency=1; Size=UDim2.new(1,0,1,0); Visible=true; Parent=y; }); local B=o:Create('UIListLayout',{ FillDirection=Enum.FillDirection.Vertical; SortOrder=Enum.SortOrder.LayoutOrder; Parent=A; }); function v.Resize(C) y.Size=UDim2.new(1,0,0,B.AbsoluteContentSize.Y); w:Resize(); end; B:GetPropertyChangedSignal'AbsoluteContentSize':Connect(function() v:Resize(); end); y:GetPropertyChangedSignal'Visible':Connect(function() v:Resize(); end); function v.Update(C) for D,E in next,v.Dependencies do local F=E[1]; local G=E[2]; if F.Type=='Toggle'and F.Value~=G then y.Visible=false; v:Resize(); return end; end; y.Visible=true; v:Resize(); end; function v.SetupDependencies(C,D) for E,F in next,D do assert(type(F)=='table','SetupDependencies: Dependency is not of type `table`.'); assert(F[1],'SetupDependencies: Dependency is missing element argument.'); assert(F[2]~=nil,'SetupDependencies: Dependency is missing value argument.'); end; v.Dependencies=D; v:Update(); end; v.Container=A; setmetatable(v,s); table.insert(o.DependencyBoxes,v); return v end; s.__index=t; s.__namecall=function(u,v,...) return t[v](...) end; end; do o.NotificationArea=o:Create('Frame',{ BackgroundTransparency=1; Position=UDim2.new(0.5,0,1,-200); AnchorPoint=Vector2.new(0.5,1); Size=UDim2.new(0,300,0,200); ZIndex=100; Parent=l; }); o:Create('UIListLayout',{ Padding=UDim.new(0,4); FillDirection=Enum.FillDirection.Vertical; SortOrder=Enum.SortOrder.LayoutOrder; HorizontalAlignment=Enum.HorizontalAlignment.Center; Parent=o.NotificationArea; }); local t=o:Create('Frame',{ BorderColor3=Color3.new(0,0,0); Position=UDim2.new(0,100,0,-25); Size=UDim2.new(0,213,0,20); ZIndex=200; Visible=false; Parent=l; }); local u=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.AccentColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=201; Parent=t; }); o:AddToRegistry(u,{ BorderColor3='AccentColor'; }); local v=o:Create('Frame',{ BackgroundColor3=Color3.new(1,1,1); BorderSizePixel=0; Position=UDim2.new(0,1,0,1); Size=UDim2.new(1,-2,1,-2); ZIndex=202; Parent=u; }); local w=o:Create('UIGradient',{ Color=ColorSequence.new{ ColorSequenceKeypoint.new(0,o:GetDarkerColor(o.MainColor)), ColorSequenceKeypoint.new(1,o.MainColor), }; Rotation=-90; Parent=v; }); o:AddToRegistry(w,{ Color=function() return ColorSequence.new{ ColorSequenceKeypoint.new(0,o:GetDarkerColor(o.MainColor)), ColorSequenceKeypoint.new(1,o.MainColor), } end }); local x=o:CreateLabel{ Position=UDim2.new(0,5,0,0); Size=UDim2.new(1,-4,1,0); TextSize=14; TextXAlignment=Enum.TextXAlignment.Left; ZIndex=203; Parent=v; }; o.Watermark=t; o.WatermarkText=x; o:MakeDraggable(o.Watermark); local y=o:Create('Frame',{ AnchorPoint=Vector2.new(0,0.5); BorderColor3=Color3.new(0,0,0); Position=UDim2.new(0,10,0.5,0); Size=UDim2.new(0,210,0,20); Visible=false; ZIndex=100; Parent=l; }); local A=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=101; Parent=y; }); o:AddToRegistry(A,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; },true); local B=o:Create('Frame',{ BackgroundColor3=o.AccentColor; BorderSizePixel=0; Size=UDim2.new(1,0,0,2); ZIndex=102; Parent=A; }); o:AddToRegistry(B,{ BackgroundColor3='AccentColor'; },true); o:CreateLabel{ Size=UDim2.new(1,0,0,20); Position=UDim2.fromOffset(5,2), TextXAlignment=Enum.TextXAlignment.Left, Text='Keybinds'; ZIndex=104; Parent=A; }; local C=o:Create('Frame',{ BackgroundTransparency=1; Size=UDim2.new(1,0,1,-20); Position=UDim2.new(0,0,0,20); ZIndex=1; Parent=A; }); o:Create('UIListLayout',{ FillDirection=Enum.FillDirection.Vertical; SortOrder=Enum.SortOrder.LayoutOrder; Parent=C; }); o:Create('UIPadding',{ PaddingLeft=UDim.new(0,5), Parent=C, }) o.KeybindFrame=y; o.KeybindContainer=C; o:MakeDraggable(y); end; function o.SetWatermarkVisibility(t,u) o.Watermark.Visible=u; end; function o.SetWatermark(t,u) local v,w=o:GetTextBounds(u,o.Font,14); o.Watermark.Size=UDim2.new(0,v+15,0,(w*1.5)+3); o:SetWatermarkVisibility(true) o.WatermarkText.Text=u; end; function o.Notify(t,u,v) local w,x=o:GetTextBounds(u,o.Font,14); x=x+7 local y=o:Create('Frame',{ BorderColor3=Color3.new(0,0,0); Position=UDim2.new(0,100,0,10); Size=UDim2.new(0,0,0,x); ClipsDescendants=true; ZIndex=100; Parent=o.NotificationArea; }); local A=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,1,0); ZIndex=101; Parent=y; }); o:AddToRegistry(A,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; },true); local B=o:Create('Frame',{ BackgroundColor3=Color3.new(1,1,1); BorderSizePixel=0; Position=UDim2.new(0,1,0,1); Size=UDim2.new(1,-2,1,-2); ZIndex=102; Parent=A; }); local C=o:Create('UIGradient',{ Color=ColorSequence.new{ ColorSequenceKeypoint.new(0,o:GetDarkerColor(o.MainColor)), ColorSequenceKeypoint.new(1,o.MainColor), }; Rotation=-90; Parent=B; }); o:AddToRegistry(C,{ Color=function() return ColorSequence.new{ ColorSequenceKeypoint.new(0,o:GetDarkerColor(o.MainColor)), ColorSequenceKeypoint.new(1,o.MainColor), } end }); o:CreateLabel{ Position=UDim2.new(0,4,0,0); Size=UDim2.new(1,-4,1,0); Text=u; TextXAlignment=Enum.TextXAlignment.Left; TextSize=14; ZIndex=103; Parent=B; }; local D=o:Create('Frame',{ BackgroundColor3=o.AccentColor; BorderSizePixel=0; Position=UDim2.new(0,-1,0,-1); Size=UDim2.new(0,3,1,2); ZIndex=104; Parent=y; }); o:AddToRegistry(D,{ BackgroundColor3='AccentColor'; },true); pcall(y.TweenSize,y,UDim2.new(0,w+8+4,0,x),'Out','Quad',0.4,true); task.spawn(function() wait(v or 5); pcall(y.TweenSize,y,UDim2.new(0,0,0,x),'Out','Quad',0.4,true); wait(0.4); y:Destroy(); end); end; function o.CreateWindow(t,...) local u={...} local v={AnchorPoint=Vector2.zero} if type(...)=='table'then v=...; else v.Title=u[1] v.AutoShow=u[2]or false; end if type(v.Title)~='string'then v.Title='No title'end if type(v.TabPadding)~='number'then v.TabPadding=0 end if type(v.MenuFadeTime)~='number'then v.MenuFadeTime=0.2 end if typeof(v.Position)~='UDim2'then v.Position=UDim2.fromOffset(175,50)end if typeof(v.Size)~='UDim2'then v.Size=UDim2.fromOffset(550,600)end if v.Center then v.AnchorPoint=Vector2.new(0.5,0.5) v.Position=UDim2.fromScale(0.5,0.5) end local w={ Tabs={}; }; local x=o:Create('Frame',{ AnchorPoint=v.AnchorPoint, BackgroundColor3=Color3.new(0,0,0); BorderSizePixel=0; Position=v.Position, Size=v.Size, Visible=false; ZIndex=1; Parent=l; }); o:MakeDraggable(x,25); local y=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.AccentColor; BorderMode=Enum.BorderMode.Inset; Position=UDim2.new(0,1,0,1); Size=UDim2.new(1,-2,1,-2); ZIndex=1; Parent=x; }); o:AddToRegistry(y,{ BackgroundColor3='MainColor'; BorderColor3='AccentColor'; }); local A=o:CreateLabel{ Position=UDim2.new(0,0,0,0); Size=UDim2.new(1,0,0,25); Text=v.Title or''; TextXAlignment=Enum.TextXAlignment.Center; ZIndex=1; Parent=y; }; o:CreateLabel({ Position=UDim2.new(0,-7,0,0); Size=UDim2.new(1,0,0,25); Text=v.Game or''; TextColor3=Color3.fromRGB(180,0,0); TextXAlignment=Enum.TextXAlignment.Right; ZIndex=1; Parent=y; },nil,false) local B=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=o.OutlineColor; Position=UDim2.new(0,8,0,25); Size=UDim2.new(1,-16,1,-33); ZIndex=1; Parent=y; }); o:AddToRegistry(B,{ BackgroundColor3='BackgroundColor'; BorderColor3='OutlineColor'; }); local C=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=Color3.new(0,0,0); BorderMode=Enum.BorderMode.Inset; Position=UDim2.new(0,0,0,0); Size=UDim2.new(1,0,1,0); ZIndex=1; Parent=B; }); o:AddToRegistry(C,{ BackgroundColor3='BackgroundColor'; }); local D=o:Create('Frame',{ BackgroundTransparency=1; Position=UDim2.new(0,8,0,8); Size=UDim2.new(1,-16,0,21); ZIndex=1; Parent=C; }); local E=o:Create('UIListLayout',{ Padding=UDim.new(0,v.TabPadding); FillDirection=Enum.FillDirection.Horizontal; SortOrder=Enum.SortOrder.LayoutOrder; Parent=D; }); local F=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=o.OutlineColor; Position=UDim2.new(0,8,0,30); Size=UDim2.new(1,-16,1,-38); ZIndex=2; Parent=C; }); o:AddToRegistry(F,{ BackgroundColor3='MainColor'; BorderColor3='OutlineColor'; }); function w.SetWindowTitle(G,H) A.Text=H; end; function w.AddTab(G,H) local I={ Groupboxes={}; Tabboxes={}; }; local J=o:GetTextBounds(H,o.Font,16); local K=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=o.OutlineColor; Size=UDim2.new(0,J+8+4,1,0); ZIndex=1; Parent=D; }); o:AddToRegistry(K,{ BackgroundColor3='BackgroundColor'; BorderColor3='OutlineColor'; }); o:CreateLabel{ Position=UDim2.new(0,0,0,0); Size=UDim2.new(1,0,1,-1); Text=H; ZIndex=1; Parent=K; }; local L=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderSizePixel=0; Position=UDim2.new(0,0,1,0); Size=UDim2.new(1,0,0,1); BackgroundTransparency=1; ZIndex=3; Parent=K; }); o:AddToRegistry(L,{ BackgroundColor3='MainColor'; }); local M=o:Create('Frame',{ Name='TabFrame', BackgroundTransparency=1; Position=UDim2.new(0,0,0,0); Size=UDim2.new(1,0,1,0); Visible=false; ZIndex=2; Parent=F; }); local N=o:Create('ScrollingFrame',{ BackgroundTransparency=1; BorderSizePixel=0; Position=UDim2.new(0,7,0,7); Size=UDim2.new(0.5,-10,0,509); CanvasSize=UDim2.new(0,0,0,0); BottomImage=''; TopImage=''; ScrollBarThickness=0; ZIndex=2; Parent=M; }); local O=o:Create('ScrollingFrame',{ BackgroundTransparency=1; BorderSizePixel=0; Position=UDim2.new(0.5,5,0,7); Size=UDim2.new(0.5,-10,0,509); CanvasSize=UDim2.new(0,0,0,0); BottomImage=''; TopImage=''; ScrollBarThickness=0; ZIndex=2; Parent=M; }); o:Create('UIListLayout',{ Padding=UDim.new(0,8); FillDirection=Enum.FillDirection.Vertical; SortOrder=Enum.SortOrder.LayoutOrder; HorizontalAlignment=Enum.HorizontalAlignment.Center; Parent=N; }); o:Create('UIListLayout',{ Padding=UDim.new(0,8); FillDirection=Enum.FillDirection.Vertical; SortOrder=Enum.SortOrder.LayoutOrder; HorizontalAlignment=Enum.HorizontalAlignment.Center; Parent=O; }); for P,Q in next,{N,O}do Q:WaitForChild'UIListLayout':GetPropertyChangedSignal'AbsoluteContentSize':Connect(function() Q.CanvasSize=UDim2.fromOffset(0,Q.UIListLayout.AbsoluteContentSize.Y); end); end; function I.ShowTab(P) for Q,R in next,w.Tabs do R:HideTab(); end; L.BackgroundTransparency=0; K.BackgroundColor3=o.MainColor; o.RegistryMap[K].Properties.BackgroundColor3='MainColor'; M.Visible=true; end; function I.HideTab(P) L.BackgroundTransparency=1; K.BackgroundColor3=o.BackgroundColor; o.RegistryMap[K].Properties.BackgroundColor3='BackgroundColor'; M.Visible=false; end; function I.SetLayoutOrder(P,Q) K.LayoutOrder=Q; E:ApplyLayout(); end; function I.AddGroupbox(P,Q) local R={}; local S=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,0,509); ZIndex=2; Parent=Q.Side==1 and N or O; }); o:AddToRegistry(S,{ BackgroundColor3='BackgroundColor'; BorderColor3='OutlineColor'; }); local T=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=Color3.new(0,0,0); Size=UDim2.new(1,-2,1,-2); Position=UDim2.new(0,1,0,1); ZIndex=4; Parent=S; }); o:AddToRegistry(T,{ BackgroundColor3='BackgroundColor'; }); local U=o:Create('Frame',{ BackgroundColor3=o.AccentColor; BorderSizePixel=0; Size=UDim2.new(1,0,0,2); ZIndex=5; Parent=T; }); o:AddToRegistry(U,{ BackgroundColor3='AccentColor'; }); o:CreateLabel{ Size=UDim2.new(1,0,0,18); Position=UDim2.new(0,4,0,2); TextSize=14; Text=Q.Name; TextXAlignment=Enum.TextXAlignment.Left; ZIndex=5; Parent=T; }; local V=o:Create('Frame',{ BackgroundTransparency=1; Position=UDim2.new(0,4,0,20); Size=UDim2.new(1,-4,1,-20); ZIndex=1; Parent=T; }); o:Create('UIListLayout',{ FillDirection=Enum.FillDirection.Vertical; SortOrder=Enum.SortOrder.LayoutOrder; Parent=V; }); function R.Resize(W) local X=0; for Y,Z in next,R.Container:GetChildren()do if(not Z:IsA'UIListLayout')and Z.Visible then X=X+Z.Size.Y.Offset; end; end; S.Size=UDim2.new(1,0,0,20+X+2+2); end; R.Container=V; setmetatable(R,s); R:AddBlank(3); R:Resize(); I.Groupboxes[Q.Name]=R; return R end; function I.AddLeftGroupbox(P,Q) return I:AddGroupbox{Side=1;Name=Q;} end; function I.AddRightGroupbox(P,Q) return I:AddGroupbox{Side=2;Name=Q;} end; function I.AddTabbox(P,Q) local R={ Tabs={}; }; local S=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=o.OutlineColor; BorderMode=Enum.BorderMode.Inset; Size=UDim2.new(1,0,0,0); ZIndex=2; Parent=Q.Side==1 and N or O; }); o:AddToRegistry(S,{ BackgroundColor3='BackgroundColor'; BorderColor3='OutlineColor'; }); local T=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderColor3=Color3.new(0,0,0); Size=UDim2.new(1,-2,1,-2); Position=UDim2.new(0,1,0,1); ZIndex=4; Parent=S; }); o:AddToRegistry(T,{ BackgroundColor3='BackgroundColor'; }); local U=o:Create('Frame',{ BackgroundColor3=o.AccentColor; BorderSizePixel=0; Size=UDim2.new(1,0,0,2); ZIndex=10; Parent=T; }); o:AddToRegistry(U,{ BackgroundColor3='AccentColor'; }); local V=o:Create('Frame',{ BackgroundTransparency=1; Position=UDim2.new(0,0,0,1); Size=UDim2.new(1,0,0,18); ZIndex=5; Parent=T; }); o:Create('UIListLayout',{ FillDirection=Enum.FillDirection.Horizontal; HorizontalAlignment=Enum.HorizontalAlignment.Left; SortOrder=Enum.SortOrder.LayoutOrder; Parent=V; }); function R.AddTab(W,X) local Y={}; local Z=o:Create('Frame',{ BackgroundColor3=o.MainColor; BorderColor3=Color3.new(0,0,0); Size=UDim2.new(0.5,0,1,0); ZIndex=6; Parent=V; }); o:AddToRegistry(Z,{ BackgroundColor3='MainColor'; }); o:CreateLabel{ Size=UDim2.new(1,0,1,0); TextSize=14; Text=X; TextXAlignment=Enum.TextXAlignment.Center; ZIndex=7; Parent=Z; }; local _=o:Create('Frame',{ BackgroundColor3=o.BackgroundColor; BorderSizePixel=0; Position=UDim2.new(0,0,1,0); Size=UDim2.new(1,0,0,1); Visible=false; ZIndex=9; Parent=Z; }); o:AddToRegistry(_,{ BackgroundColor3='BackgroundColor'; }); local aa=o:Create('Frame',{ BackgroundTransparency=1; Position=UDim2.new(0,4,0,20); Size=UDim2.new(1,-4,1,-20); ZIndex=1; Visible=false; Parent=T; }); o:Create('UIListLayout',{ FillDirection=Enum.FillDirection.Vertical; SortOrder=Enum.SortOrder.LayoutOrder; Parent=aa; }); function Y.Show(ab) for ac,ad in next,R.Tabs do ad:Hide(); end; aa.Visible=true; _.Visible=true; Z.BackgroundColor3=o.BackgroundColor; o.RegistryMap[Z].Properties.BackgroundColor3='BackgroundColor'; Y:Resize(); end; function Y.Hide(ab) aa.Visible=false; _.Visible=false; Z.BackgroundColor3=o.MainColor; o.RegistryMap[Z].Properties.BackgroundColor3='MainColor'; end; function Y.Resize(ab) local ac=0; for ad,ae in next,R.Tabs do ac=ac+1; end; for ad,ae in next,V:GetChildren()do if not ae:IsA'UIListLayout'then ae.Size=UDim2.new(1/ac,0,1,0); end; end; if(not aa.Visible)then return end; local ad=0; for ae,af in next,Y.Container:GetChildren()do if(not af:IsA'UIListLayout')and af.Visible then ad=ad+af.Size.Y.Offset; end; end; S.Size=UDim2.new(1,0,0,20+ad+2+2); end; Z.InputBegan:Connect(function(ab) if ab.UserInputType==Enum.UserInputType.MouseButton1 and not o:MouseIsOverOpenedFrame()then Y:Show(); Y:Resize(); end; end); Y.Container=aa; R.Tabs[X]=Y; setmetatable(Y,s); Y:AddBlank(3); Y:Resize(); if#V:GetChildren()==2 then Y:Show(); end; return Y end; I.Tabboxes[Q.Name or'']=R; return R end; function I.AddLeftTabbox(aa,ab) return I:AddTabbox{Name=ab,Side=1;} end; function I.AddRightTabbox(aa,ab) return I:AddTabbox{Name=ab,Side=2;} end; K.InputBegan:Connect(function(aa) if aa.UserInputType==Enum.UserInputType.MouseButton1 then I:ShowTab(); end; end); if#F:GetChildren()==1 then I:ShowTab(); end; w.Tabs[H]=I; return I end; local aa=o:Create('TextButton',{ BackgroundTransparency=1; Size=UDim2.new(0,0,0,0); Visible=true; Text=''; Modal=false; Parent=l; }); local ab={}; local ac=false; local ad=false; function o.Toggle(ae) if ad then return end; local af=v.MenuFadeTime; ad=true; ac=(not ac); aa.Modal=ac; if ac then x.Visible=true; task.spawn(function() local G=a.MouseIconEnabled; local H=Drawing.new'Triangle'; H.Thickness=1; H.Filled=true; H.Visible=true; local I=Drawing.new'Triangle'; I.Thickness=1; I.Filled=false; I.Color=Color3.new(0,0,0); I.Visible=true; while ac and l.Parent do a.MouseIconEnabled=false; local J=a:GetMouseLocation(); H.Color=o.AccentColor; H.PointA=Vector2.new(J.X,J.Y); H.PointB=Vector2.new(J.X+16,J.Y+6); H.PointC=Vector2.new(J.X+6,J.Y+16); I.PointA=H.PointA; I.PointB=H.PointB; I.PointC=H.PointC; h:Wait(); end; a.MouseIconEnabled=G; H:Remove(); I:Remove(); end); end; for G,H in next,x:GetDescendants()do local I={}; if H:IsA'ImageLabel'then table.insert(I,'ImageTransparency'); table.insert(I,'BackgroundTransparency'); elseif H:IsA'TextLabel'or H:IsA'TextBox'then table.insert(I,'TextTransparency'); elseif H:IsA'Frame'or H:IsA'ScrollingFrame'then table.insert(I,'BackgroundTransparency'); elseif H:IsA'UIStroke'then table.insert(I,'Transparency'); end; local J=ab[H]; if(not J)then J={}; ab[H]=J; end; for K,L in next,I do if not J[L]then J[L]=H[L]; end; if J[L]==1 then continue end; g:Create(H,TweenInfo.new(af,Enum.EasingStyle.Linear),{[L]=ac and J[L]or 1}):Play(); end; end; task.wait(af); x.Visible=ac; ad=false; end o:GiveSignal(a.InputBegan:Connect(function(ae,af) if type(o.ToggleKeybind)=='table'and o.ToggleKeybind.Type=='KeyPicker'then if ae.UserInputType==Enum.UserInputType.Keyboard and ae.KeyCode.Name==o.ToggleKeybind.Value then task.spawn(o.Toggle) end elseif ae.KeyCode==Enum.KeyCode.RightControl or(ae.KeyCode==Enum.KeyCode.RightShift and(not af))then task.spawn(o.Toggle) end end)) if v.AutoShow then task.spawn(o.Toggle)end w.Holder=x; return w end; local function OnPlayerChange() local aa=GetPlayersString(); for ab,ac in next,n do if ac.Type=='Dropdown'and ac.SpecialType=='Player'then ac:SetValues(aa); end; end; end; e.PlayerAdded:Connect(OnPlayerChange); e.PlayerRemoving:Connect(OnPlayerChange); getgenv().Library=o return o
